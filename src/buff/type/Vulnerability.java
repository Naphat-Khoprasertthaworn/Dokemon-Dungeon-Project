package buff.type;


import entity.base.Buff;
import entity.base.Unit;


/**
 * Vulnerability Class.
 */
public class Vulnerability extends Buff{
	

	/**
	 * decreasing defense
	 */
	private int decreasingDefense;
	
	/**
	 * Constructor of Vulnerability
	 * @param turn number of turn this buff active
	 * @param ratio ratio of this buff
	 */
	public Vulnerability(int turn, int ratio) {
		super(turn, ratio);
		super.setName("Vulnetability");
	}
	
	/**
	 * Copy constructor of Vulnerability
	 * @param buff parent buff
	 */
	public Vulnerability(Vulnerability buff) {
		this(buff.getTurn(), buff.getRatio());
		//System.out.println("i am called" );
	}
	
	
	
	@Override
	/**
	 * active buff
	 * @param unit unit that have this buff
	 */
	public void activeBuff(Unit unit) {
		this.setDecreasingDefense(unit.getDefense());
		unit.setBuffDefense( unit.getBuffDefense() - this.getDecreasingDefense() );
		
	}

	@Override
	/**
	 * remove this from arraylist of buff in unit
	 * @param unit unit that have this buff
	 */
	public void removeSelf(Unit unit) {
		unit.setBuffDefense( unit.getBuffDefense() + this.getDecreasingDefense() );
		
	}
	/**
	 * getter of decreasing defense
	 * @return decreasingAttack decreasing defense
	 */
	public int getDecreasingDefense() {
		return decreasingDefense;
	}
	/**
	 * setter of decreasing defense.
	 * @param baseDefense base defense of unit.
	 */
	public void setDecreasingDefense(int baseDefense) {
		this.decreasingDefense = (baseDefense*this.getRatio()) / 100;
	}

}
